
module Smten.SMT.Tests.MalError where

import Smten.SMT.Symbolic

-- This should report an error. It should not succeed.
qtest :: SMT ()
qtest = do
    r <- query $ do
            p <- free
            assert (if p
                        then error "mal error (as desired)"
                        else False)
            return p
    return ()

main :: IO ()
main = do
    runSMT Yices2 (Just "build/test/MalError.yices2.dbg") qtest
    putStrLn "MAL ERROR FAILED"

